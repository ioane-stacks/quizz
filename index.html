<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
        .quiz {
            width: 40%;
            margin-left: 100px;
            margin-top: 100px;
            /* background-color: #eee; */
            display: flex;
            flex-direction: column;
            justify-content: center;
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            user-select: none;
        }

        .questions {
            padding: 20px;
            border-bottom: 2px solid rgb(160, 84, 231);
            margin-bottom: 10px;
        }

        .question {
            color: #222;
            text-align: center;
        }

        .answers {
            display: grid;
            grid-template-columns: 50% 50%;
            row-gap: 13px;
            column-gap: 5px;
        }

        .answer {}

        .each_answer {
            min-height: 40px;
            margin-left: 10px;
            padding: 5px;
            background-color: rgb(208, 171, 243);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 10px;
            border-radius: 0.7rem;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-weight: 500;
            color: #222;
            -webkit-transition: 0.2s;
            transition: 0.2s;
        }

        .each_answer:hover {
            background-color: rgb(165, 132, 196);
        }

        .each_answer,
        .each_answer * {
            cursor: pointer;
        }

        .checked {
            background-color: rgb(115, 228, 149);
        }

        .checked:hover {
            background-color: rgb(105, 209, 136);
        }

        .submit-btn {
            /* width: 150px; */
            padding: 20px 0;
            font-size: 1.5rem;
            background-color: rgb(115, 228, 149);
            border: none;
            border-radius: .7rem;
            font-weight: 500;
            cursor: pointer;
            margin-bottom: 100px;
        }
    </style>
</head>

<body>
    <div class="quiz"></div>

    <script>
        const alphabet_en = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];
        const questions = [
            {
                question: 'What is your favorite activity to do on a Friday night?',
                answers: [
                    {
                        answer: 'Going out to a fancy restaurant and trying new foods',
                        value: 'Carrie',
                    },
                    {
                        answer: 'Going out to a club and dancing the night away',
                        value: 'Samantha',
                    },
                    {
                        answer: 'Staying in and relaxing with a good book',
                        value: 'Miranda',
                    },
                    {
                        answer: 'Attending a cultural event or art show',
                        value: 'Charlotte',
                    },
                ],
            },
            {
                question: 'How do you handle a difficult or stressful situation?',
                answers: [
                    {
                        answer: 'By writing about it and finding ways to process my emotions',
                        value: 'Carrie',
                    },
                    {
                        answer: 'By taking charge and finding a solution',
                        value: 'Miranda',
                    },
                    {
                        answer: 'By trying to relax and let go of the stress',
                        value: 'Charlotte',
                    },
                    {
                        answer: 'By seeking out new experiences and distractions',
                        value: 'Samantha',
                    },
                ],
            },
            {
                question: 'How do you feel about casual relationships?',
                answers: [
                    {
                        answer: 'I prefer more committed and meaningful connections',
                        value: 'Charlotte',
                    },
                    {
                        answer: "I'm open to exploring different types of relationships",
                        value: 'Carrie',
                    },
                    {
                        answer: "I'm not interested in casual relationships",
                        value: 'Miranda',
                    },
                    {
                        answer: 'I enjoy the freedom and independence of casual relationships',
                        value: 'Samantha',
                    },
                ],
            },
            {
                question: 'How do you express your creativity?',
                answers: [
                    {
                        answer: 'Through my writing and storytelling',
                        value: 'Carrie',
                    },
                    {
                        answer: 'Through my fashion choices and personal style',
                        value: 'Samantha',
                    },
                    {
                        answer: 'Through my work as an art dealer',
                        value: 'Charlotte',
                    },
                    {
                        answer: 'By finding new and innovative ways to solve problems',
                        value: 'Miranda',
                    },
                ],
            },
            {
                question: 'How do you feel about commitment and marriage?',
                answers: [
                    {
                        answer: "I'm open to the possibility but I also value my independence",
                        value: 'Carrie',
                    },
                    {
                        answer: "I'm not interested in marriage, but I do value committed relationships",
                        value: 'Samantha',
                    },
                    {
                        answer: 'I believe in the traditional values of marriage and commitment',
                        value: 'Charlotte',
                    },
                    {
                        answer: 'I believe in the importance of personal growth and independence in a relationship',
                        value: 'Miranda',
                    },
                ],
            },
            {
                question: 'How do you handle conflicts with friends?',
                answers: [
                    {
                        answer: 'By discussing and resolving the issue directly',
                        value: 'Miranda',
                    },
                    {
                        answer: 'By trying to find a compromise and understanding',
                        value: 'Charlotte',
                    },
                    {
                        answer: 'By writing about it and finding ways to process my emotions',
                        value: 'Carrie',
                    },
                    {
                        answer: 'By avoiding the conflict and seeking out new friends',
                        value: 'Samantha',
                    },
                ],
            },
            {
                question: 'How do you feel about your career?',
                answers: [
                    {
                        answer: "It's important to me and I work hard to succeed",
                        value: 'Miranda',
                    },
                    {
                        answer: "It's a means to an end and I prioritize my personal life",
                        value: 'Carrie',
                    },
                    {
                        answer: "It's a passion and I'm always seeking new opportunities",
                        value: 'Samantha',
                    },
                    {
                        answer: "It's important to me but I also value having a balanced life",
                        value: 'Charlotte',
                    },
                ],
            },
            {
                question: 'How do you feel about your appearance?',
                answers: [
                    {
                        answer: 'I put a lot of effort into my appearance and love to express myself through fashion',
                        value: 'Samantha',
                    },
                    {
                        answer: 'I care about my appearance but also prioritize my inner beauty and personal growth',
                        value: 'Charlotte',
                    },
                    {
                        answer: "I'm confident in my appearance and embrace my natural beauty",
                        value: 'Miranda',
                    },
                    {
                        answer: 'I enjoy experimenting with different styles and fashion trends',
                        value: 'Carrie',
                    },
                ],
            },
            {
                question: 'How do you handle romantic relationships?',
                answers: [
                    {
                        answer: "I'm open to exploring different types of relationships and take things as they come",
                        value: 'Carrie',
                    },
                    {
                        answer: "I'm not interested in serious relationships and prefer to keep things casual",
                        value: 'Samantha',
                    },
                    {
                        answer: "I'm traditional and believe in the importance of commitment and monogamy",
                        value: 'Charlotte',
                    },
                    {
                        answer: "I'm practical and focus on communication and compromise in my relationships",
                        value: 'Miranda',
                    },
                ],
            },
            {
                question: 'How do you feel about your friends?',
                answers: [
                    {
                        answer: 'They are my chosen family and I value their support and loyalty',
                        value: 'Carrie',
                    },
                    {
                        answer: "They are an important part of my life and I'm fiercely loyal to them",
                        value: 'Samantha',
                    },
                    {
                        answer: 'They are important to me but I also value my independence and alone time',
                        value: 'Miranda',
                    },
                    {
                        answer: 'They are a source of joy and support and I value the relationships I have with them',
                        value: 'Charlotte',
                    },
                ],
            },
        ];

        const individualAnswer = {
            carrie: 'You are Carrie Bradshaw from "Sex and the City." As a successful writer and journalist, you have a sharp wit and keen insights on modern femininity and relationships. You are independent, ambitious, and determined, with a deep love for your friends and a fierce sense of self. You are known for your fashionable and stylish sense of dress, often seen sporting high heels and designer clothing. Despite your tough exterior, you have a soft heart and can be vulnerable in your relationships with men. Throughout the series, you face a range of challenges and setbacks, but ultimately learn to embrace your true self and find happiness on your own terms. Whether you\'re navigating the ups and downs of single life or falling in love, you are always true to yourself and your passions.',
            samantha: 'You are Samantha Jones from "Sex and the City." As a successful public relations executive, you are confident, bold, and unapologetic, with a no-nonsense attitude and a strong belief in the power of independence. You are known for your promiscuity and love of casual relationships, but you are also fiercely loyal to your friends and are always there for them when they need support. You are known for your bold fashion sense, often sporting revealing and sexy outfits. Throughout the series, you face a range of personal and professional challenges, but always manage to come out on top with your strong sense of self and determination. Whether you\'re climbing the corporate ladder or enjoying the single life, you are always true to yourself and your passions.',
            miranda: 'You are Miranda Hobbes from "Sex and the City." As a successful lawyer, you are practical, no-nonsense, and driven, with a strong work ethic and a dedication to your career. Despite your tough exterior, you are also fiercely loyal and caring towards your friends, and are always there for them when they need support. You are known for your more subdued fashion sense, often opting for more classic and professional looks. Throughout the series, you face a range of personal and professional challenges, including the ups and downs of single motherhood, but ultimately learn to balance your career and personal life with grace and determination. Whether you\'re tackling tough cases or managing the demands of motherhood, you are always true to yourself and your passions.',
            charlotte: 'You are Charlotte York from "Sex and the City." As a successful art dealer, you are traditional, romantic, and sophisticated, with a strong belief in true love and happily ever after. You are known for your refined taste and ladylike demeanor, but you also have a vulnerable side and often struggle with insecurities and self-doubt in your relationships. You are known for your classic and feminine fashion sense, often seen wearing dresses and roots. Throughout the series, you face a range of challenges in your search for love and marriage, but ultimately find happiness with your husband, Harry, and your daughter, Lily. Whether you\'re navigating the dating scene or building a life with your family, you are always true to yourself and your passions.'
        }

        const cocktail = {
            a: 'You are a combination of all the main characters from "Sex and the City." Like Carrie, you are a successful writer and journalist with a sharp wit and keen insights on modern femininity and relationships. You are independent, ambitious, and determined, with a deep love for your friends and a fierce sense of self. You are known for your fashionable and stylish sense of dress, often seen sporting high heels and designer clothing. Despite your tough exterior, you have a soft heart and can be vulnerable in your relationships with men.',
            b: 'Like Samantha, you are confident, bold, and unapologetic, with a no-nonsense attitude and a strong belief in the power of independence. You are successful in your career and enjoy the freedom and independence of casual relationships. You are known for your bold fashion sense, often sporting revealing and sexy outfits.',
            c: 'Like Miranda, you are practical, no-nonsense, and driven, with a strong work ethic and a dedication to your career. Despite your tough exterior, you are also fiercely loyal and caring towards your friends, and are always there for them when they need support. You are known for your more subdued fashion sense, often opting for more classic and professional looks.',
            d: 'Like Charlotte, you are traditional, romantic, and sophisticated, with a strong belief in true love and happily ever after. You are known for your refined taste and ladylike demeanor, but you also have a vulnerable side and often struggle with insecurities and self-doubt in your relationships. You are known for your classic and feminine fashion sense, often seen wearing dresses and roots.',
            e: 'Throughout the series, you face a range of personal and professional challenges, but ultimately learn to embrace your true self and find happiness on your own terms. Whether you\'re navigating the ups and downs of single life, climbing the corporate ladder, or building a life with your family, you are always true to yourself and your passions.'
        }

        const _quiz = document.querySelector('.quiz');

        const QuestionBuilder = (q, i) => {
            const { question, answers } = q;

            const h3 = document.createElement("h3");

            const _questions = document.createElement('div');
            const _question = document.createElement('div');
            const _answers = document.createElement('div');

            _questions.setAttribute('class', 'questions');
            _question.setAttribute('class', 'question');
            _answers.setAttribute('class', 'answers');

            h3.innerHTML = i + ". " + question;

            const AnswerBuilder = (a, j) => {
                const _answer = document.createElement('div');

                const label = document.createElement('label');
                const inputRadio = document.createElement('input');

                inputRadio.setAttribute("type", "radio");
                _answer.setAttribute('class', 'answer');
                _answer.setAttribute('onclick', `checkValue()`);

                label.setAttribute("class", "each_answer");
                label.setAttribute("for", `q_${i}_${j}`)
                label.innerHTML = a.answer;
                inputRadio.setAttribute("name", `q_${i}`);
                inputRadio.setAttribute("id", `q_${i}_${j}`);
                inputRadio.setAttribute("value", a.value);
                inputRadio.hidden = true;

                _answer.appendChild(label);
                _answer.appendChild(inputRadio);

                return _answer;
            }

            answers.map((a, j) => _answers.appendChild(AnswerBuilder(a, j + 1)));

            _questions.appendChild(_question);
            _question.appendChild(h3);
            _questions.appendChild(_answers);

            return _questions;
        };

        questions.map((q, i) => {
            _quiz.appendChild(QuestionBuilder(q, i + 1));
        });

        const answer = document.querySelectorAll(".answer");
        let checkList = [];
        let result = "";


        function checkValue() {
            let checkedValues = [];
            answer.forEach(a => {
                if (a.children.item(1).checked === true) {
                    a.children.item(0).classList.add("checked");
                    checkedValues.push(a.children.item(1).value);
                }
                else a.children.item(0).classList.remove("checked");
            })
            checkList = checkedValues;
            if (checkList.length === 5 && !document.querySelector(".submit-btn")) {
                const submit = document.createElement("button");
                submit.setAttribute("class", "submit-btn");
                submit.setAttribute("onclick", "finishQuizz()");
                submit.innerHTML = "Submit"
                _quiz.appendChild(submit);
            }
        }

        function finishQuizz() {
            console.log(checkList.includes().length);
            const CarrieCount = checkList.filter(x => x === "Carrie").length + individualAnswer.carrie;
            const SamanthaCount = checkList.filter(x => x === "Samantha").length + individualAnswer.samantha;
            const MirandaCount = checkList.filter(x => x === "Miranda").length + individualAnswer.miranda;
            const CharlotteCount = checkList.filter(x => x === "Charlotte").length + individualAnswer.charlotte;

            const h3 = document.createElement("h3");
            h3.setAttribute("class", "question");

            _quiz.innerHTML = "";

            console.log(CarrieCount[0], SamanthaCount[0], MirandaCount[0], CharlotteCount[0]);

            if (CharlotteCount[0] === '5' && CarrieCount[0] === '5') {
                result = cocktail.a;
                h3.innerHTML = result;
            } else if (CarrieCount[0] === '5' && SamanthaCount[0] === '5') {
                result = cocktail.b;
                h3.innerHTML = result;
            } else if (SamanthaCount[0] === '5' && MirandaCount[0] === '5') {
                result = cocktail.c;
                h3.innerHTML = result;
            } else if (MirandaCount[0] === '5' && CharlotteCount[0] === '5') {
                result = cocktail.d;
                h3.innerHTML = result;
            }
            else {
                const persons = [CarrieCount, SamanthaCount, MirandaCount, CharlotteCount];
                const person = persons.sort((a, b) => '' + b.localeCompare(a))[0];
                result = person.slice(1, person.length);
                h3.innerHTML = result;
            }


            _quiz.appendChild(h3);
        }
    </script>
</body>

</html>